<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">

        <!-- Sequence for Caisse Request -->
        <record id="seq_caisse_request" model="ir.sequence">
            <field name="name">Caisse Request</field>
            <field name="code">caisse.request</field>
            <field name="prefix">CR</field>
            <field name="padding">5</field>
            <field name="number_increment">1</field>
            <field name="number_next">1</field>
        </record>

        <!-- Sequence for Caisse Disbursement -->
        <record id="seq_caisse_disbursement" model="ir.sequence">
            <field name="name">Caisse Disbursement</field>
            <field name="code">caisse.disbursement</field>
            <field name="prefix">CD</field>
            <field name="padding">5</field>
            <field name="number_increment">1</field>
            <field name="number_next">1</field>
        </record>

        <!-- Sequence for Caisse Reconciliation -->
        <record id="seq_caisse_reconciliation" model="ir.sequence">
            <field name="name">Caisse Reconciliation</field>
            <field name="code">caisse.reconciliation</field>
            <field name="prefix">RC</field>
            <field name="padding">5</field>
            <field name="number_increment">1</field>
            <field name="number_next">1</field>
        </record>

        <!-- Mail Activity Types -->
        <record id="mail_activity_caisse_request_approval" model="mail.activity.type">
            <field name="name">Caisse Request Approval</field>
            <field name="summary">Request requires approval</field>
            <field name="category">default</field>
            <field name="delay_count">1</field>
            <field name="delay_unit">days</field>
        </record>

        <record id="mail_activity_caisse_disbursement" model="mail.activity.type">
            <field name="name">Caisse Disbursement</field>
            <field name="summary">Request ready for disbursement</field>
            <field name="category">default</field>
            <field name="delay_count">1</field>
            <field name="delay_unit">days</field>
        </record>

        <record id="mail_activity_caisse_settlement" model="mail.activity.type">
            <field name="name">Caisse Settlement</field>
            <field name="summary">Advance requires settlement</field>
            <field name="category">default</field>
            <field name="delay_count">30</field>
            <field name="delay_unit">days</field>
        </record>

        <!-- Email Templates -->
        <record id="email_template_caisse_request_submitted" model="mail.template">
            <field name="name">Caisse Request - Submitted</field>
            <field name="model_id" ref="model_caisse_request"/>
            <field name="subject">Fund Request Submitted - ${object.name}</field>
            <field name="email_from">${(object.company_id.email and '%s &lt;%s&gt;' % (object.company_id.name, object.company_id.email) or '')|safe}</field>
            <field name="email_to">${object.employee_id.work_email}</field>
            <field name="body_html" type="html">
<div style="margin: 0px; padding: 0px;">
    <p>Dear ${object.employee_id.name},</p>
    <p>Your fund request has been submitted successfully:</p>
    <ul>
        <li><strong>Reference:</strong> ${object.name}</li>
        <li><strong>Type:</strong> ${object.request_type}</li>
        <li><strong>Amount:</strong> ${object.amount} ${object.currency_id.name}</li>
        <li><strong>Purpose:</strong> ${object.description}</li>
    </ul>
    <p>Your request is now pending approval.</p>
    <p>Best regards,<br/>Caisse Department</p>
</div>
            </field>
        </record>

        <record id="email_template_caisse_request_approved" model="mail.template">
            <field name="name">Caisse Request - Approved</field>
            <field name="model_id" ref="model_caisse_request"/>
            <field name="subject">Fund Request Approved - ${object.name}</field>
            <field name="email_from">${(object.company_id.email and '%s &lt;%s&gt;' % (object.company_id.name, object.company_id.email) or '')|safe}</field>
            <field name="email_to">${object.employee_id.work_email}</field>
            <field name="body_html" type="html">
<div style="margin: 0px; padding: 0px;">
    <p>Dear ${object.employee_id.name},</p>
    <p>Your fund request has been approved:</p>
    <ul>
        <li><strong>Reference:</strong> ${object.name}</li>
        <li><strong>Amount:</strong> ${object.amount} ${object.currency_id.name}</li>
        <li><strong>Approved by:</strong> ${object.manager_id.name}</li>
        <li><strong>Approval Date:</strong> ${object.manager_approval_date}</li>
    </ul>
    <p>Please visit the cashier for fund disbursement.</p>
    <p>Best regards,<br/>Caisse Department</p>
</div>
            </field>
        </record>

        <record id="email_template_caisse_request_disbursed" model="mail.template">
            <field name="name">Caisse Request - Disbursed</field>
            <field name="model_id" ref="model_caisse_request"/>
            <field name="subject">Funds Disbursed - ${object.name}</field>
            <field name="email_from">${(object.company_id.email and '%s &lt;%s&gt;' % (object.company_id.name, object.company_id.email) or '')|safe}</field>
            <field name="email_to">${object.employee_id.work_email}</field>
            <field name="body_html" type="html">
<div style="margin: 0px; padding: 0px;">
    <p>Dear ${object.employee_id.name},</p>
    <p>Your funds have been disbursed:</p>
    <ul>
        <li><strong>Reference:</strong> ${object.name}</li>
        <li><strong>Amount:</strong> ${object.amount} ${object.currency_id.name}</li>
        <li><strong>Disbursed by:</strong> ${object.cashier_id.name}</li>
        <li><strong>Disbursement Date:</strong> ${object.disbursement_date}</li>
    </ul>
    % if object.request_type == 'advance':
    <p><strong>Important:</strong> This advance must be settled by ${object.settlement_deadline}.</p>
    % endif
    <p>Best regards,<br/>Caisse Department</p>
</div>
            </field>
        </record>

    </data>
</odoo>